doctype html 
html 
 head 
  title advertisement
  link(rel='stylesheet' href='/register.css')
 
 body 
    include _header
    .div.forms 
     h1 Please upload the neccessary files
     form#frms(enctype='multipart/form-data')    
      label choose two apartment pictures
      input(type='file' name='file' multiple)
      label choose one apartment video 
      input(type='file' name='vid')
      label Enter apartment location 
      input(type='text' name='location' placeholder='apartment location')
      label Price of the apartment (GHâ‚µ)
      input(type='text' name='price' placeholder='apartment price')
      label Provide title for the appartment 
      input(type='text' name='property_title' placeholder='type of apartment')
      label Provide descripton for the apartment 
      textarea(cols='30' rows='3' name='description' placeholder='apartment description')
      input(type='submit' value='click to submit' id='btn')


script. 
  
  document.getElementById('board').addEventListener('click',(e)=>{

     e.preventDefault();

     fetch('http://localhost:3000/dash')
      .then((val)=>{
        if(!val.ok){
           val.json()
           .then((ans)=>{
            if(ans.status==='unauthorize') { alert(ans.message)}
            else{alert(ans.message); location.assign('/')}
           })
        }else{
         window.setTimeout(()=>location.assign('/dash'),1000)
        }
        
      })

  })
 
 document.getElementById('frms').addEventListener('submit',(e)=>{
    e.preventDefault();
     
    let data = new FormData(e.target)

    fetch("http://localhost:3000/addApartmentPortal",{
        method:'Post',
        body : data
    })
    .then((val)=>{
        if(val.ok){
            alert(`uploaded apartment successfully`)
            window.setTimeout(()=>{location.assign('/overview')},2000)
        }
        else{
            val.json()
            .then(err=>alert(err.message))
        }
    })
 })